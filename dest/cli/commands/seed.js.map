{"version":3,"sources":["../src/cli/commands/seed.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;;;;;;;;AAEH,gEAAgE;AAChE,4BAA4B;AAE5B,0DAAsD;AACtD,4CAAoC;AAEvB,QAAA,OAAO,GAAG,MAAM,CAAA;AAChB,QAAA,QAAQ,GAAG,0CAA0C,CAAA;AAElE,iBAA+B,IAAI;;QACjC,MAAM,EAAE,GAAG,EAAE,GAAG,iBAAK,CAAC,IAAI,CAAC,CAAA;QAC3B,MAAM,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAW,mBAAQ,CAAC,CAAA;QAE5C,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAA;QAEtC,IAAI;YACF,MAAM,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;SAC/B;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAA;YAC9C,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAA;YACxB,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;SAChB;QAED,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAA;QACrC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;IACjB,CAAC;CAAA;AAhBD,0BAgBC","file":"seed.js","sourcesContent":["/**\n * houston/src/cli/commands/seed.ts\n * Runs database seed scripts\n */\n\n// Command line files are allowed to have console log statements\n// tslint:disable no-console\n\nimport { Database } from '../../lib/database/database'\nimport { setup } from '../utilities'\n\nexport const command = 'seed'\nexport const describe = 'Seeds the database tables with fake data'\n\nexport async function handler (argv) {\n  const { app } = setup(argv)\n  const database = app.get<Database>(Database)\n\n  console.log(`Seeding database tables`)\n\n  try {\n    await database.knex.seed.run()\n  } catch (e) {\n    console.error('Error seeding database tables')\n    console.error(e.message)\n    process.exit(1)\n  }\n\n  console.log('Seeded database tables')\n  process.exit(0)\n}\n"]}