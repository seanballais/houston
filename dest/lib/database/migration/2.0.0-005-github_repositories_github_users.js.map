{"version":3,"sources":["../src/lib/database/migration/2.0.0-005-github_repositories_github_users.ts"],"names":[],"mappings":";AAAA;;;;;;;GAOG;;AAIH;;;;;;GAMG;AACH,YAAoB,IAAU;IAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kCAAkC,EAAE,CAAC,KAAK,EAAE,EAAE;QAC3E,KAAK,CAAC,UAAU,EAAE,CAAA;QAElB,KAAK,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,QAAQ,EAAE,CAAA;QAC7C,KAAK,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAA;QAErF,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,QAAQ,EAAE,CAAA;QACvC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,CAAA;IAC1E,CAAC,CAAC,CAAA;AACJ,CAAC;AAVD,gBAUC;AAED;;;;;;GAMG;AACH,cAAsB,IAAU;IAC9B,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAA;AAClE,CAAC;AAFD,oBAEC","file":"2.0.0-005-github_repositories_github_users.js","sourcesContent":["/**\n * houston/src/lib/database/migration/2.0.0-005-github_repositories_github_users.ts\n * The inital houston 2.0.0 migration for pivot table between github users and\n * repositories.\n *\n * @exports {Function} up - Database information for upgrading to version 2.0.0\n * @exports {Function} down - Database information for downgrading version 2.0.0\n */\n\nimport * as Knex from 'knex'\n\n/**\n * up\n * Database information for upgrading to version 2.0.0\n *\n * @param {Object} knex - An initalized Knex package\n * @return {Promise} - A promise of database migration\n */\nexport function up (knex: Knex) {\n  return knex.schema.createTable('github_repositories_github_users', (table) => {\n    table.increments()\n\n    table.uuid('github_repository_id').nullable()\n    table.foreign('github_repository_id').references('id').inTable('github_repositories')\n\n    table.uuid('github_user_id').nullable()\n    table.foreign('github_user_id').references('id').inTable('github_users')\n  })\n}\n\n/**\n * down\n * Database information for downgrading version 2.0.0\n *\n * @param {Object} knex - An initalized Knex package\n * @return {Promise} - A promise of successful database migration\n */\nexport function down (knex: Knex) {\n  return knex.schema.dropTable('github_repositories_github_users')\n}\n"]}